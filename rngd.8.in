.\" Copyright (C) 2001 Jeff Garzik -- jgarzik@pobox.com
.\"
.TH RNGD 8 "March 2001" "@PACKAGE@ @VERSION@"

.SH NAME
rngd \- Check and feed random data from hardware device to kernel random device

.SH SYNOPSIS
.B rngd
[\fB\-b\fR, \fB\-\-background\fR]
[\fB\-f\fR, \fB\-\-foreground\fR]
[\fB\-o\fR, \fB\-\-random-device=\fIfile\fR]
[\fB\-r\fR, \fB\-\-rng-device=\fIfile\fR]
[\fB\-s\fR, \fB\-\-random-step=\fInnn\fR]
[\fB\-t\fR, \fB\-\-timeout=\fInnn\fR]
[\fB\-H\fR, \fB\-\-rng\-entropy=\fIn.nnn\fR]
[\fB\-?\fR, \fB\-\-help\fR]
[\fB\-V\fR, \fB\-\-version\fR]
.RI

.SH DESCRIPTION
This daemon feeds data from a random number generator to the kernel's
random number entropy pool, after first checking the data to ensure that
it is properly random.  It works on blocks of 20000 bits at a time for
the FIPS tests, and feeds these bits back \fIrandom-step\fR*8 bits at a
time, until the entropy pool is full.
.PP
If the entropy pool is full, the daemon force-feeds the kernel a bit more
entropy every \fItimeout\fR seconds, to make it more difficult to predict
the pool's contents.
.PP
The \fB\-f\fR or \fB\-\-foreground\fR options can be used to tell
\fBrngd\fR to avoid forking on startup.  This is typically used for
debugging.  The \fB\-f\fR or \fB\-\-foreground\fR options, which fork and put
\fBrngd\fR into the background automatically, are the default.
.PP
The \fB\-r\fR or \fB\-\-rng-device\fR options can be used to select an
alternate source of input, besides the default /dev/hwrandom.
The \fB\-o\fR or \fB\-\-random-device\fR options can be used to select
an alternate entropy output device, besides the default /dev/random.
Note that this device must support the Linux kernel /dev/random 
ioctl API.
.PP
The \fB\-H\fR or \fB\-\-rng\-entropy\fR options can be used to adjust the
number of bits of entropy per bit of data received from the input source. For
most TRNGs, this number is very close to 1.0, 0.998 and 0.999 being typical
values.

.SH OPTIONS
.TP
\fB\-b\fR, \fB\-\-background\fR
Become a daemon (default)
.TP
\fB\-f\fR, \fB\-\-foreground\fR
Do not fork and become a daemon
.TP
\fB\-o\fI file\fR, \fB\-\-random-device=\fIfile\fR
Kernel device used for random number output
(default: /dev/random)
.TP
\fB\-r\fI file\fR, \fB\-\-rng-device=\fIfile\fR
Kernel device used for random number input
(default: /dev/hwrandom)
.TP
\fB\-H \fIn.nnn\fR, \fB\-\-rng\-entropy=\fIn.nnn\fR
Bits of entropy per bit of input data.  This is a floating point
number between 0 and 1 (inclusive).
(default: 1.0)
.TP
\fB\-s\fI nnn\fR, \fB\-\-random-step=\fInnn\fR
Number of bytes written to random-device at a time (default: 64)
.TP
\fB\-t\fI nnn\fR, \fB\-\-timeout=\fInnn\fR
Interval written to random-device when the entropy pool is full, in seconds, or 0 to disable (default: 60)
.TP
\fB\-?\fR, \fB\-\-help\fR
Give a short summary of all program options.
.TP
\fB\-V\fR, \fB\-\-version\fR
Print program version

.SH AUTHORS
Philipp Rumpf
.br
Jeff Garzik \- jgarzik@pobox.com
.br
Matt Sottek
.br
Henrique M. Holschuh \- hmh@debian.org

